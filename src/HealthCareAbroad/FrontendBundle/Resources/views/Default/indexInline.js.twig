<script type="text/javascript" src="/js/jquery/jquery.carouFredSel-6.1.0-packed.js"></script>
<script type="text/javascript">

	(function($){

		$(function(){
		    var slider = $('#feature_carousel').carousel({
				interval: 5000,
				pause: "hover"
			})
			.bind('slid', function() {
				var index = $(this).find(".active").index();
				$(this).find("a").removeClass('pager-active').eq(index).addClass('pager-active');
			});

			$(".nav-pills a").click(function (e) {
				//var index = $(this).index();
				var index = $(this).attr("data-to") - 1;
				$("#feature_carousel").carousel(index);
				e.preventDefault();
			});

			$('#carousel-inner').carouFredSel({
				circular: false,
				infinite: false,
				auto: true,
				items: 4,
				height: 150,
				scroll: {
					pauseOnHover: true,
					duration: 1000
				},
				prev: {
					button: "#carousel_prev",
					key: "left"
				},
				next:  {
					button: "#carousel_next",
					key: "right"
				}
			});

			// Custom tip implementation
			// This is temporary, I will make a standard and more abstract module once I'm feeling ok
			// Hate this stupid cold
			$('.tip').each(function(){
				$(this).mouseover(function(e){
					var bbox = $(this).parent()
					, 	tx = bbox.position().left - bbox.outerWidth()/2;
					//tx = tx - $('.tooltip').outerWidth()/2 - 50;
					$('.tooltip')
					.css('left', tx + "px")
					.html($(this).attr("data-original-title"))
					.show();
				}).mouseleave(function(e){
					$('.tooltip').hide();
				});
			});     
	    });

	})(jQuery);
</script>