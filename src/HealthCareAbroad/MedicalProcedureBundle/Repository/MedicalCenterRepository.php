<?php

namespace HealthCareAbroad\MedicalProcedureBundle\Repository;

use Doctrine\ORM\EntityRepository;

/**
 * MedicalCenterRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class MedicalCenterRepository extends EntityRepository
{
	function autoCompleteSearch($term = '', $limit = 10)
	{
		$query = $this->_em->createQuery("SELECT MedicalCenter.id, MedicalCenter.name as value FROM MedicalProcedureBundle:MedicalCenter AS MedicalCenter WHERE MedicalCenter.name LIKE '%$term%' AND MedicalCenter.status = 1 ORDER BY MedicalCenter.name ASC");
		return $query->setMaxResults($limit)->getArrayResult();
	}
}