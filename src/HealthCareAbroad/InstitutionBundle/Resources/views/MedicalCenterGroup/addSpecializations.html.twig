{% extends 'InstitutionBundle::layout.html.twig' %}
{% set selectedTab = 'medical_centers'%}
{% block title %}{{ parent() }} Add Center {% endblock %}


{% block content %}
<!-- start content -->
<div id="content">
    <!--  start page-heading -->
    <div id="page-heading">
        <h1>
            {% set hasDraft = hasDraft is defined and hasDraft %}
            Add specialization
        </h1>
    </div>
    <!-- end page-heading -->

    {% embed '::contentWrapper.admin.html.twig' %}

        {% block wrappedContent %}

            {# ----- Related tasks ----- #}
            {% include 'InstitutionBundle:MedicalCenterGroup:relatedTasks.html.twig'  %}
            {# ----- end Related tasks ----- #}

            <!--  start table-content  -->
            <div id="table-content" style="width:70%">

                {% include '::notice.admin.html.twig' %}

                {% include '::stepHolder.base.admin.html.twig' with {
                    steps: [
                        {title: 'Center Details'},
                        {title: 'Specializations', 'selected': true},
                        {title: 'Doctors'},
                        {title: 'Preview', 'selected': false},
                 ]}
              %}

                <form novalidate="novalidate" action="{{ path('institution_medicalCenterGroup_addSpecializations', {'imcgId': institutionMedicalCenterGroup.id } ) }}" method="POST" class="basic-form">

                    <div>
                        <label class="required">Specialization</label>
                        
                        <select name="institutionMedicalCenter" id="institutionMedicalCenter"></select>
                    </div>
                    
                    <div>
                        <label class="required">Sub Specialization</label>
                        
                        <select name="institutionTreatment" id="institutionTreatment"></select>
                    </div>
                    
                    <div>
                        <label class="required">Treatment</label>
                        
                        <select multiple="multiple" name="institutionTreatmentProcedure" id="institutionTreatmentProcedure"></select>
                    </div>

                    <input type="submit" name="submit" value="Save and Add Another" class="green-button" />

                </form>

                
            </div>
            <!--  end table-content  -->

        {% endblock %}

    {% endembed %}

</div>

<!--  end content -->
<div class="clear">&nbsp;</div>
{% endblock %}


{% block inlineJavascriptCode %}
    <script src="{{ asset('bundles/institution/js/InstitutionMedicalCenterGroup.js') }}"></script>
    <script type="text/javascript">
        $(function(){
            InstitutionMedicalCenterGroup.initSpecializationsForm({
                'loadInstitutionMedicalCentersUri': '{{ path("institution_medicalCenterGroup_loadAvailableSpecializations", {"imcgId": institutionMedicalCenterGroup.id} ) }}',
                'institutionMedicalCenterField': $('#institutionMedicalCenter'),
                'institutionTreatmentField': $('#institutionTreatment'),
                'institutionTreatmentProcedureField': $('#institutionTreatmentProcedure')
            });

            
        });
    </script>
{% endblock %}
