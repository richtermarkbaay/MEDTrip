{% extends 'InstitutionBundle::layout.html.twig' %}
{% set mainNavigation = {selected: 'medical_centers'} %}
{% block content %}

    {% embed 'InstitutionBundle:Embed:contentWrapper.authenticated.html.twig' 
        with {'contentSpanClass' : 'span12' } %}
        {% block wrappedContent %}

       <div class="span12">
        	<h1><span>Create New Clinic Listing</span></h1>
        	{% include 'InstitutionBundle:Widgets:steps.addClinic.html.twig' %}
        </div>
        
        <!--End of span12-->
        <div class="addnewclinic">
            <div class="span9">
                {% include '::notice.admin.html.twig' %}
                {% set _formPath = institutionMedicalCenter.id 
                    ? path('institution_medicalCenter_addDetails', { 'imcId': institutionMedicalCenter.id })
                    : path('institution_medicalCenter_add') 
                %}
                <form novalidate="novalidate" action="{{ _formPath }}" method="POST" {{ form_enctype(form) }} class="basic-form">
                    {{ form_errors(form) }}
                    
                    <div>
                        {{ form_row(form.name, {label: 'Clinic Name', attr: {'class': 'span7'}} ) }}
                        {{ form_label(form.description,  'Short Description about the Clinic')  }}
                        {{ form_widget(form.description) }}
                        <small >Having difficulties in writing your Clinic Description. <a href="#">CLICK HERE</a> for some sample to look at.</small>
                        {{ form_errors(form.description) }}
                            
                        {{ form_row(form.contactEmail) }}
                        {{ form_label(form.contactNumber, 'Clinic Contact Number') }}
                        {{ form_widget(form.contactNumber) }}
                        {{ form_widget(form.address) }}
                        
                        
                        <div class="address2">
                            <span>
                                {{ form_label(form.city)}}
                                {{ form_widget(form.city, {label: 'City'} )}}
                                {{ form_errors(form.city) }}
                            </span> 
                            <span>
                                {{ form_label(form.zipCode)}}
                                {{ form_widget(form.zipCode )}}
                                {{ form_errors(form.zipCode) }}
                            </span>
                        </div>
                        
                        <div class="clearfix"></div>
                        
                        <div class="address2">
                            <span>
                                {{ form_label(form.state)}}
                                {{ form_widget(form.state )}}
                                {{ form_errors(form.state) }}
                            </span> 
                            <span>
                                {{ form_label(form.country)}}
                                {{ form_widget(form.country )}}
                                {{ form_errors(form.country) }}
                            </span>
                        </div>
                        
                        <div class="clearfix"></div>
                        
                        {{ form_row(form.timeZone) }}
                        <label for="Clinic Hours">Clinic Hours</label>
                        {% include 'InstitutionBundle:Widgets:medicalCenter.businessHours.html.twig' %}
                        
                    </div>
                                        	                        	
                	<div class="pull-right">
                        <button class="btn btn-info" type="submit">Next</button>
                    </div>
                    
                    {{ form_widget(form._token) }}
                    
                </form>
        	</div> <!-- end .span9 -->
        	{% embed 'InstitutionBundle:Embed:wrapper.sidebar.html.twig' %}
                {% block sidebarWrappedContent %}
                    {% include 'InstitutionBundle:Widgets:sidebar.benefitsShowcase.html.twig' %}
                {% endblock %}
            {% endembed %}

        </div> <!-- end .addnewclinic -->
        {% endblock %}
        
    {% endembed %}

 {% block inlineJavascriptCode %}
        <script src="{{ asset('js/jquery/timepicker.js') }}"></script>
    	<script src="{{ asset('js/jquery/globalize.js') }}"></script>
    	<script src="{{ asset('js/jquery/jquery.ui.mask.js') }}"></script>
        <script>
        
            $(function() {
    	    	$(".hour").timepicker({ seconds: false});
    	    	$('input.is_closed_checkbox').each(function(){
    			    if(this.checked) {
    			    	$(this).parent().parent().find('.hour').val("");
    			    	var id = $(this).parent().parent().find('.hour').spinner({ disabled: true });
    				}
    			});
    	    });
            $('input.is_closed_checkbox').change(function(){
                if(this.checked) {
                    $(this).parent().parent().find('.hour').val("");
                	var id = $(this).parent().parent().find('.hour').spinner({ disabled: true });
            	}
                else 
                {
                	$(this).parent().parent().find('.hour').val("8:00 AM");
                	var id = $(this).parent().parent().find('.hour').spinner({ disabled: false });
                }
               
            });
        	
        </script>
    {% endblock %}
{% endblock %}