{% extends 'InstitutionBundle::registration.layout.html.twig' %}
{% set disableMainNavigation = true %}
{% set setUpProfile = true %}

{% block content %}
<div class="row">
    <h1>Add New Clinic</h1>

    <div class="span8">
        <form id="clinicForm" action="{{ path('institution_signup_setup_specializations', {imcId: institutionMedicalCenter.id} ) }}" method="post" novalidate>

            <section class="section institution-info">
                <h2>Basic Information<br><small>Basic information about the Clinic you are adding.</small></h2>
                <div class="row-fluid">
                    <div class="span12">
                        <div class="control-group">
                            <label for="institution-name">Name of the Clinic</label>
                            {{ form_widget(form.name, { 'attr': {'class': 'span12'} }) }}
                        </div>
                        <div class="control-group">
                            <label for="website">Description <small>(Optional)</small></label>
                            {{ form_widget(form.description, { 'attr': {'class': 'span12'} }) }}
                            <div class="description"><small>you can edit / add Description later</small></div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="section address-info">
                <h2>Clinic Address<br><small>Complete Address of the Clinic that you are adding.</small></h2>
                <div class="row-fluid">
                    <div class="span12">
                        <div class="control-group">
                            <input type="radio" name="request" id="inquiry" class="pull-left" checked>
                            <label for="different-address-clinic">Same Address</label>
                            <p>{{ institution_address_to_array(institution, ['address1', 'zipCode', 'city', 'state', 'country']) | join(', ') }}</p>
                        </div>
                        <hr>

                        <div class="control-group">
                            <input type="radio" name="request" id="inquiry" class="pull-left">
                            <label for="different-address-clinic">Different Address</label>
                        </div>

                        {{ form_widget(form.address, { attr: {class: 'addressFields '} } )}}

                        <div class="control-group">
                            <div class="span12">
                                <label for="Country">Country</label>
                                <div class="input-append hca-location">
                                    {{ form_widget(form.country, { attr: {class: 'addressFields '} } )}}
                                </div>
                            </div>
                        </div>
                        <div class="control-group">
                            <div class="span5">
                                <label>State / Province</label>
                                <div class="input-append hca-location">
                                    {{ form_widget(form.state, { attr: {class: 'addressFields '} } )}}
                                </div>
                            </div>
                            <div class="span5">
                                <label>City</label>
                                <div class="input-append hca-location">
                                    {{ form_widget(form.city, { attr: {class: 'addressFields city_dropdown'} } )}}
                                </div>
                            </div>
                            <div class="span2">
                                <label for="zip">Zip Code</label>
                                {{ form_widget(form.zipCode, { attr: {class: 'span12 addressFields'} } )}}
                            </div>
                        </div>
                        <div class="control-group">
                            <label for="Helpful hint">Helpful hint for getting there?</label>
                            <input type="text" name="state" id="address-hint" placeholder="" class="span12">
                        </div>
                    </div>
                </div>
            </section>

            <section class="section contact-info">
                <h2>Clinic Contact Details<br><small>This is your Clinic's contact details. Please be as detailed as possible.</small></h2>
                <div class="row-fluid">
                    <div class="span12 control-group">
                        <div class="span6">
                            <label for="Phone Number">Clinic Email Address</label>
                            {{ form_widget(form.contactEmail, { 'attr': {'class': 'span12'} }) }}
                        </div>
                        <div class="span6">
                            {{ form_widget(form.contactNumber) }}
                        </div>
                    </div>
                </div>
            </section>

            <section class="section socialmedia-info">
                <h2>Website and Social Media<small>(Optional)</small></h2>
                <div class="row-fluid">
                    {{ form_widget(form.websites) }}
                </div>
            </section>

            <section class="section clinic-schedule">
                {% include 'InstitutionBundle:Institution/Widgets:clinicSchedule.html.twig' %}
            </section>

            {{ form_widget(form._token) }}

            <section class="section footer">
                <div class="row-fluid terms">
                    <div class="span12">
                        <a onclick="submitForm()" href="add-clinic-for-hospital-specializations.html" class="btn pull-right btn-primary btn-large">
                           Continue to Adding Specializations
                        </a>
                        <input type="submit"/>
                    </div>
                </div>
            </section>
        </form>
    </div>

    {# TODO: replace with signup steps widget #}
    {% set completedSteps = ['signup'] %}
    {% include 'InstitutionBundle:Institution/Partials:registrationSidebar.html.twig' with {setupProfile: 'active' , completedSteps: completedSteps} %}

</div>

{% endblock %}


{% block inlineJavascriptCode %}
<script type="text/javascript">

/* TODO: request designer to use a button instead */
function submitForm() {
    document.getElementById('clinicForm').submit();

    return false;
}
</script>


<link rel="stylesheet" href="{{ asset('css/bootstrap-timepicker.min.css') }}" type="text/css">
<script  type="text/javascript" src="{{ asset('bundles/helper/js/Location.js') }}"></script>
<script src="{{ asset('js/jquery/globalize.js') }}"></script>
<script src="{{ asset('js/jquery/jquery.ui.mask.js') }}"></script>
<script type="text/javascript" src="{{ asset('bundles/institution/js/institutionMedicalCenter.js') }}" ></script>
<script type="text/javascript" src="{{ asset('bundles/helper/js/Flag.js') }}" ></script>
<script type="text/javascript" src="{{ asset('js/bootstrap-timepicker.min.js') }}"></script>

<script type="text/javascript">
$('#timepicker1').timepicker();
$('#timepicker2').timepicker();

{% endblock %}