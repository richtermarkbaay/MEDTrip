parameters:
    services.institution_class: HealthCareAbroad\InstitutionBundle\Services\InstitutionService
    services.institution_list : HealthCareAbroad\InstitutionBundle\Form\InstitutionListType
  
services:
    services.institution:
        class: %services.institution_class%
        arguments: [@doctrine]]
        calls:
            - [setInstitutionUserService, [@services.institution_user]]
    form.institution_list:
        class: "%services.institution_list%"
        calls:
          - [setContainer, [@service_container]]
        tags:
            - { name: form.type, alias: institution_list }

     ##listeners
    listener.user.institution.create:
        class: HealthCareAbroad\InstitutionBundle\Listener\InstitutionListener
        calls:
           - [setEntityManager, [@doctrine.orm.entity_manager]]
           - [setInstitutionUserService, [@services.institution_user]]
        tags:
        - { name: kernel.event_listener, event: event.institution.create, method: onCreate }
