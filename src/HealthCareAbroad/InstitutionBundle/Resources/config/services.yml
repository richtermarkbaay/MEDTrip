parameters:
    services.institution_class: HealthCareAbroad\InstitutionBundle\Services\InstitutionService
    services.institution_list : HealthCareAbroad\InstitutionBundle\Form\InstitutionListType
    services.doctor_list: HealthCareAbroad\InstitutionBundle\Form\ListType\InstitutionDoctorListType

services:
    services.institution:
        class: %services.institution_class%
        arguments: [@doctrine]
        calls:
            - [setInstitutionUserService, [@services.institution_user]]

    services.institutionMedicalCenter:
        class: HealthCareAbroad\InstitutionBundle\Services\InstitutionMedicalCenterService
        arguments: [@doctrine]
        
    services.institution_list_transformer:
        class: HealthCareAbroad\InstitutionBundle\Form\Transformer\InstitutionTransformer
        calls: 
            - [setInstitutionService, [@services.institution]]

    form.institution_list:
        class: "%services.institution_list%"
        calls:
          - [setContainer, [@service_container]]
        tags:
            - { name: form.type, alias: institution_list }
            
    form.offeredService_list:
        class: HealthCareAbroad\InstitutionBundle\Form\ListType\InstitutionOfferedServiceListType
        tags:
            - { name: form.type, alias: offeredService_list }
    
    form.doctor_list:
        class: "%services.doctor_list%"
        calls:
            - [setDoctrine, [@doctrine]]
        tags:
            - { name: form.type, alias: doctor_list }