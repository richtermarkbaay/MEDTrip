services:
    listener.institution.authorizationBeforeController:
        class: HealthCareAbroad\InstitutionBundle\Listener\InstitutionAwareBeforeControllerListener
        calls:
           - [setDoctrine, [@doctrine]]
        tags:
            - { name: kernel.event_listener, event: kernel.controller, method: onKernelController }
            
    listener.log.institution_user.login:
        class: HealthCareAbroad\LogBundle\Listener\Institution\InstitutionBundleCommonListener
        arguments: [@service_container]
        tags:
            - { name: kernel.event_listener, event: event.institution_user.login, method: onCommonLogAction }
            
    listener.user.institution.create:
        class: HealthCareAbroad\InstitutionBundle\Listener\InstitutionListener
        calls:
           - [setEntityManager, [@doctrine.orm.entity_manager]]
           - [setInstitutionUserService, [@services.institution_user]]
        tags:
            - { name: kernel.event_listener, event: event.institution.add, method: onAdd }
            
    
    ### --------- institution user type event listeners --------- ###
    
    listener.log.institution_user_type.add_role:
        class: HealthCareAbroad\LogBundle\Listener\Institution\InstitutionBundleCommonListener
        arguments: [@service_container]
        tags:
            - { name: kernel.event_listener, event: event.institution_user_type.add_role, method: onCommonLogAction }
            
    listener.log.institution_user_type.delete_role:
        class: HealthCareAbroad\LogBundle\Listener\Institution\InstitutionBundleCommonListener
        arguments: [@service_container]
        tags:
            - { name: kernel.event_listener, event: event.institution_user_type.delete_role, method: onCommonLogAction }
    
    
    ### --------- end institution user type event listeners --------- ###
    
    ### --------- institution user invitation event listeners --------- ###
    listener.log.institution_user_invitation.add:
        class: HealthCareAbroad\LogBundle\Listener\Institution\InstitutionBundleCommonListener
        arguments: [@service_container]
        tags:
            - { name: kernel.event_listener, event: event.institution_user_invitation.add, method: onCommonLogAction }
        
        
    ### --------- end institution user invitation event listeners --------- ###
        