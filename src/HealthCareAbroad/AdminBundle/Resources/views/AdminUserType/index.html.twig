{% extends 'AdminBundle::layout.html.twig' %}
{% block title %}{{ parent() }} &raquo; User types{% endblock %}

{% set selectedTab = 'settings'%}

{% block content %}
<!-- start content -->
<div id="content">
    <!--  start page-heading -->
    <div id="page-heading">
    	<h1>Admin user types</h1>
    </div>

    <!-- end page-heading -->
    
    {% embed '::contentWrapper.admin.html.twig' %}
        
        {% block wrappedContent %}
        
		    {% include '::notice.admin.html.twig' %}

		    {% block related_tasks %}
		        {% include 'AdminBundle:AdminUserType:relatedTasks.html.twig' with {'showAdd': true, 'showList': false, 'showRoles' : true} %}
		    {% endblock %}

			<div id="table-content" style="width:70%">

			    <table class="table table-bordered sortable-list" id="table-list">
				<tr>
					<th id="column-name"><a href="{{ app.request.uri }}" class="{{ 'sort-' ~ app.request.get('sortOrder', 'asc') }}">User type</a></th>
					<th>Permissions</th>
					<th width="150">Actions</th>
				</tr>

				{% for userType in userTypes %}
                    {% if userType.status %}
                        {% set class = 'icon-remove' %} {% set statusLabel = 'Deactivate' %}
                    {% else %}
                        {% set class = 'icon-ok' %} {% set statusLabel = 'Activate' %}
                    {% endif %}
				    <tr>
    					<td>{{ userType.name | title }}</td>
    					<td>
    					    <ul style="list-style:decimal; padding: 0 15px;">
    					        {% for role in userType.adminUserRoles %}
    					        <li> {{ role.label | title }}</li>
    					        {% endfor %}
    					    </ul>
					    </td>
    					<td>
        					<a href="{{ path('admin_userType_edit', {id: userType.id }) }}" title="Edit {{ userType.name | title }}">
        					    <i class="icon-edit"></i> Edit
                            </a>
                            &nbsp;
        					<a href="#" title="{{ statusLabel }}"><i class="{{ class }}"></i> <span>{{ statusLabel }}</span></a>
    					</td>
    				</tr>
				{% endfor %}
				</table>
				<!--  end table-list................................... --> 
			</div>

        {% endblock %}
        
    {% endembed %}

</div>
<!--  end content -->
<div class="clear">&nbsp;</div>
{% endblock %}