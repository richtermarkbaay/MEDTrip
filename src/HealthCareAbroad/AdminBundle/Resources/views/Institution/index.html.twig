{% extends 'AdminBundle::layout.html.twig' %}
{% set selectedTab = 'institutions'%}
{% set selectedSubTab = 'institutions_index'%}

{% block content %}
	<div id="content">

		<div id="page-heading"><h3>List of Institutions</h3></div>

		{% embed '::contentWrapper.admin.html.twig' %}
			{% block wrappedContent %}

			<!-- Render Filter Box -->
			{% render 'SearchBundle:Default:showFilters' with {route: app.request.attributes.get('_route'), selectedStatus: selectedStatus} %}

			<table class="generic-table" width="70%">
			<tr>
				<th class="table-header-repeat line-left minwidth-1"><a href="">Name</a></th>
				<th class="table-header-repeat line-left"><a href="">Description</a></th>
				<th class="table-header-options actions line-left" style="width:220px;"><a href="">Actions</a></th>
			</tr>

			{% for institution in institutions %}
				<tr class="{{ cycle(['alternate-row', ''], loop.index) }}">
					<td><a href="{{ path('admin_institution_view', {id: institution.id}) }}" title="View {{ institution.name }}">{{ institution.name }}</a> </td>
					<td><a href="{{ path('admin_institution_view', {id: institution.id}) }}" title="View {{ institution.name }}">{{ institution.description }}</a></td>
					<td align="center">
						<!--a href="{{ path('admin_institution_updateStatus', {id:institution.id}) }}" class="update-status">
							{% if institution.status %} deactivate {% else %} activate {% endif %}
						</a>
					<span class="bar">|</span -->
					<a href="{{ path('admin_institution_manageCenters', {id:institution.id}) }}">manage centers</a>
					<br/>
					<a href="{{ path('admin_institution_manageProcedureTypes', {id:institution.id}) }}">manage procedure types</a>
					</td>
				</tr>
			{% else  %}
				<tr><td class="empty-list" colspan="3">No records yet!</td></tr>
			{% endfor %}
			</table>
			{% endblock %}
		{% endembed %}
	</div>

{% endblock %}